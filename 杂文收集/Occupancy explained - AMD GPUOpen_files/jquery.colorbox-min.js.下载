/*!
	Colorbox 1.6.4 plus modifications from PR #832
	license: MIT
	http://www.jacklmoore.com/colorbox
*/
(function(t,e,i){function n(i,n,o){var a=e.createElement(i);return n&&(a.id=Z+n),o&&(a.style.cssText=o),t(a)}function o(){return i.innerHeight?i.innerHeight:t(i).height()}function a(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var n;return void 0===this.cache[e]&&(n=t(this.el).attr("data-cbox-"+e),void 0!==n?this.cache[e]=n:void 0!==i[e]?this.cache[e]=i[e]:void 0!==X[e]&&(this.cache[e]=X[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function r(t){var e=W.length,i=(z+t)%e;return i<0?e+i:i}function h(t,e){return Math.round((/%/.test(t)?("x"===e?E.width():o())/100:1)*parseInt(t,10))}function s(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function l(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function d(t){"contains"in x[0]&&!x[0].contains(t.target)&&t.target!==v[0]&&(t.stopPropagation(),x.focus())}function c(t){c.str!==t&&(x.add(v).removeClass(c.str).addClass(t),c.str=t)}function g(e){z=0,e&&!1!==e&&"nofollow"!==e?(W=t("."+tt).filter(function(){var i=t.data(this,Y),n=new a(this,i);return n.get("rel")===e}),z=W.index($.el),-1===z&&(W=W.add($.el),z=W.length-1)):W=t($.el)}function u(i){t(e).trigger(i),ht.triggerHandler(i)}function f(i){var o;if(!G){if(o=t(i).data(Y),$=new a(i,o),g($.get("rel")),!q){q=U=!0,c($.get("className")),x.css({visibility:"hidden",display:"block",opacity:""}).attr("aria-hidden","true"),I=n(st,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),b.css({width:"",height:""}).append(I),N=T.height()+k.height()+b.outerHeight(!0)-b.height(),_=C.width()+H.width()+b.outerWidth(!0)-b.width(),j=I.outerHeight(!0),D=I.outerWidth(!0);var r=h($.get("initialWidth"),"x"),s=h($.get("initialHeight"),"y"),l=$.get("maxWidth"),f=$.get("maxHeight");$.w=Math.max((!1!==l?Math.min(r,h(l,"x")):r)-D-_,0),$.h=Math.max((!1!==f?Math.min(s,h(f,"y")):s)-j-N,0),I.css({width:"",height:$.h}),J.position(),u(et),$.get("onOpen"),O.add(P).hide(),x.attr("aria-hidden","false").focus(),$.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",d,!0),ht.one(at,function(){e.removeEventListener("focus",d,!0)})),$.get("returnFocus")&&ht.one(at,function(){t($.el).focus()})}var p=parseFloat($.get("opacity"));v.css({opacity:p==p?p:"",cursor:$.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),$.get("closeButton")?B.html($.get("close")).attr("aria-label",$.get("close")).attr("aria-hidden","false").appendTo(b):B.appendTo("<div/>"),w()}}function p(){x||(V=!1,E=t(i),x=n(st).attr({id:Y,class:!1===t.support.opacity?Z+"IE":"",role:"dialog","aria-hidden":"true","aria-labelledby":"cboxTitle","aria-describedby":"cboxCurrent",tabindex:"-1"}).hide(),v=n(st,"Overlay").hide(),L=t([n(st,"LoadingOverlay")[0],n(st,"LoadingGraphic")[0]]),y=n(st,"Wrapper"),b=n(st,"Content").append(P=n(st,"Title"),S=n(st,"Current"),K=t('<button type="button"/>').attr({id:Z+"Previous","aria-label":"previous","aria-hidden":"true"}),R=t('<button type="button"/>').attr({id:Z+"Next","aria-label":"next","aria-hidden":"true"}),F=t('<button type="button"/>').attr({id:Z+"Slideshow","aria-label":"start slideshow","aria-hidden":"true"}),L),B=t('<button type="button"/>').attr({id:Z+"Close","aria-label":"close","aria-hidden":"true"}),y.append(n(st).append(n(st,"TopLeft"),T=n(st,"TopCenter"),n(st,"TopRight")),n(st,!1,"clear:left").append(C=n(st,"MiddleLeft"),b,H=n(st,"MiddleRight")),n(st,!1,"clear:left").append(n(st,"BottomLeft"),k=n(st,"BottomCenter"),n(st,"BottomRight"))).find("div div").css({float:"left"}),M=n(st,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),O=R.add(K).add(S).add(F)),e.body&&!x.parent().length&&t(e.body).append(v,x.append(y,M))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return!!x&&(V||(V=!0,R.click(function(){J.next()}),K.click(function(){J.prev()}),B.click(function(){J.close()}),v.click(function(){$.get("overlayClose")&&J.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;q&&$.get("escKey")&&27===e&&(t.preventDefault(),J.close()),q&&$.get("arrowKey")&&W[1]&&!t.altKey&&(37===e?(t.preventDefault(),K.click()):39===e&&(t.preventDefault(),R.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+tt,i):t("."+tt).live("click."+Z,i)),!0)}function w(){var e,o,a,r=J.prep,d=++lt;if(U=!0,A=!1,u(rt),u(it),$.get("onLoad"),$.h=$.get("height")?h($.get("height"),"y")-j-N:$.get("innerHeight")&&h($.get("innerHeight"),"y"),$.w=$.get("width")?h($.get("width"),"x")-D-_:$.get("innerWidth")&&h($.get("innerWidth"),"x"),$.mw=$.w,$.mh=$.h,$.get("maxWidth")&&($.mw=h($.get("maxWidth"),"x")-D-_,$.mw=$.w&&$.w<$.mw?$.w:$.mw),$.get("maxHeight")&&($.mh=h($.get("maxHeight"),"y")-j-N,$.mh=$.h&&$.h<$.mh?$.h:$.mh),e=$.get("href"),Q=setTimeout(function(){L.show()},100),$.get("inline")){var c=t(e).eq(0);a=t("<div>").hide().insertBefore(c),ht.one(rt,function(){a.replaceWith(c)}),r(c)}else $.get("iframe")?r(" "):$.get("html")?r($.get("html")):s($,e)?(e=l($,e),A=$.get("createImg"),t(A).addClass(Z+"Photo").bind("error."+Z,function(){r(n(st,"Error").html($.get("imgError")))}).one("load",function(){d===lt&&setTimeout(function(){var e;$.get("retinaImage")&&i.devicePixelRatio>1&&(A.height=A.height/i.devicePixelRatio,A.width=A.width/i.devicePixelRatio),$.get("scalePhotos")&&(o=function(){A.height-=A.height*e,A.width-=A.width*e},$.mw&&A.width>$.mw&&(e=(A.width-$.mw)/A.width,o()),$.mh&&A.height>$.mh&&(e=(A.height-$.mh)/A.height,o())),$.h&&(A.style.marginTop=Math.max($.mh-A.height,0)/2+"px"),W[1]&&($.get("loop")||W[z+1])&&(A.style.cursor="pointer",t(A).bind("click."+Z,function(){J.next()})),A.style.width=A.width+"px",A.style.height=A.height+"px",r(A)},1)}),A.src=e):e&&M.load(e,$.get("data"),function(e,i){d===lt&&r("error"===i?n(st,"Error").html($.get("xhrError")):t(this).contents())})}var v,x,y,b,T,C,H,k,W,E,I,M,L,P,S,F,R,K,B,O,$,N,_,j,D,z,A,q,U,G,Q,J,V,X={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,i=t(this).data("cbox-img-attrs");return"object"==typeof i&&t.each(i,function(t,i){e[t]=i}),e},createIframe:function(){var i=e.createElement("iframe"),n=t(this).data("cbox-iframe-attrs");return"object"==typeof n&&t.each(n,function(t,e){i[t]=e}),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},Y="colorbox",Z="cbox",tt=Z+"Element",et=Z+"_open",it=Z+"_load",nt=Z+"_complete",ot=Z+"_cleanup",at=Z+"_closed",rt=Z+"_purge",ht=t("<a/>"),st="div",lt=0,dt={},ct=function(){function t(){clearTimeout(r)}function e(){($.get("loop")||W[z+1])&&(t(),r=setTimeout(J.next,$.get("slideshowSpeed")))}function i(){F.html($.get("slideshowStop")).attr("aria-lable",$.get("slideshowStop")).unbind(s).one(s,n),ht.bind(nt,e).bind(it,t),x.removeClass(h+"off").addClass(h+"on")}function n(){t(),ht.unbind(nt,e).unbind(it,t),F.html($.get("slideshowStart")).attr("aria-lable",$.get("slideshowStart")).unbind(s).one(s,function(){J.next(),i()}),x.removeClass(h+"on").addClass(h+"off")}function o(){a=!1,F.attr("aria-hidden","true").hide(),t(),ht.unbind(nt,e).unbind(it,t),x.removeClass(h+"off "+h+"on")}var a,r,h=Z+"Slideshow_",s="click."+Z;return function(){a?$.get("slideshow")||(ht.unbind(ot,o),o()):$.get("slideshow")&&W[1]&&(a=!0,ht.one(ot,o),$.get("slideshowAuto")?i():n(),F.attr("aria-hidden","false").show())}}();t[Y]||(t(p),J=t.fn[Y]=t[Y]=function(e,i){var n,o=this;return e=e||{},t.isFunction(o)&&(o=t("<a/>"),e.open=!0),o[0]?(p(),m()&&(i&&(e.onComplete=i),o.each(function(){var i=t.data(this,Y)||{};t.data(this,Y,t.extend(i,e))}).addClass(tt),n=new a(o[0],e),n.get("open")&&f(o[0])),o):o},J.position=function(e,i){function n(){T[0].style.width=k[0].style.width=b[0].style.width=parseInt(x[0].style.width,10)-_+"px",b[0].style.height=C[0].style.height=H[0].style.height=parseInt(x[0].style.height,10)-N+"px"}var a,r,s,l=0,d=0,c=x.offset();if(E.unbind("resize."+Z),x.css({top:-9e4,left:-9e4}),r=E.scrollTop(),s=E.scrollLeft(),$.get("fixed")?(c.top-=r,c.left-=s,x.css({position:"fixed"})):(l=r,d=s,x.css({position:"absolute"})),!1!==$.get("right")?d+=Math.max(E.width()-$.w-D-_-h($.get("right"),"x"),0):!1!==$.get("left")?d+=h($.get("left"),"x"):d+=Math.round(Math.max(E.width()-$.w-D-_,0)/2),!1!==$.get("bottom")?l+=Math.max(o()-$.h-j-N-h($.get("bottom"),"y"),0):!1!==$.get("top")?l+=h($.get("top"),"y"):l+=Math.round(Math.max(o()-$.h-j-N,0)/2),x.css({top:c.top,left:c.left,visibility:"visible"}).attr("aria-hidden","false"),y[0].style.width=y[0].style.height="9999px",a={width:$.w+D+_,height:$.h+j+N,top:l,left:d},e){var g=0;t.each(a,function(t){a[t]===dt[t]||(g=e)}),e=g}dt=a,e||x.css(a),x.dequeue().animate(a,{duration:e||0,complete:function(){n(),U=!1,y[0].style.width=$.w+D+_+"px",y[0].style.height=$.h+j+N+"px",$.get("reposition")&&setTimeout(function(){E.bind("resize."+Z,J.position)},1),t.isFunction(i)&&i()},step:n})},J.resize=function(t){var e;q&&(t=t||{},t.width&&($.w=h(t.width,"x")-D-_),t.innerWidth&&($.w=h(t.innerWidth,"x")),I.css({width:$.w}),t.height&&($.h=h(t.height,"y")-j-N),t.innerHeight&&($.h=h(t.innerHeight,"y")),t.innerHeight||t.height||(e=I.scrollTop(),I.css({height:"auto"}),$.h=I.height()),I.css({height:$.h}),e&&I.scrollTop(e),J.position("none"===$.get("transition")?0:$.get("speed")))},J.prep=function(i){function o(){return $.w=$.w||I.width(),$.w=$.mw&&$.mw<$.w?$.mw:$.w,$.w}function h(){return $.h=$.h||I.height(),$.h=$.mh&&$.mh<$.h?$.mh:$.h,$.h}if(q){var d,g="none"===$.get("transition")?0:$.get("speed");I.remove(),I=n(st,"LoadedContent").append(i),I.hide().appendTo(M.show()).css({width:o(),overflow:$.get("scrolling")?"auto":"hidden"}).css({height:h()}).prependTo(b),M.hide(),t(A).css({float:"none"}),c($.get("className")),d=function(){function i(){!1===t.support.opacity&&x[0].style.removeAttribute("filter")}var n,o,h=W.length;q&&(o=function(){clearTimeout(Q),L.hide(),u(nt),$.get("onComplete")},P.html($.get("title")).show(),I.show(),h>1?("string"==typeof $.get("current")&&S.html($.get("current").replace("{current}",z+1).replace("{total}",h)).show(),$showNext=$.get("loop")||z<h-1,R[$showNext?"show":"hide"]().html($.get("next")).attr("aria-hidden",$showNext?"false":"true").attr("aria-label",$.get("next")),$showPrev=$.get("loop")||z,K[$showPrev?"show":"hide"]().html($.get("previous")).attr("aria-hidden",$showPrev?"false":"true").attr("aria-label",$.get("previous")),ct(),$.get("preloading")&&t.each([r(-1),r(1)],function(){var i,n=W[this],o=new a(n,t.data(n,Y)),r=o.get("href");r&&s(o,r)&&(r=l(o,r),i=e.createElement("img"),i.src=r)})):O.hide(),$.get("iframe")?(n=$.get("createIframe"),$.get("scrolling")||(n.scrolling="no"),t(n).attr({src:$.get("href"),class:Z+"Iframe"}).one("load",o).appendTo(I),ht.one(rt,function(){n.src="//about:blank"}),$.get("fastIframe")&&t(n).trigger("load")):o(),"fade"===$.get("transition")?x.fadeTo(g,1,i):i())},"fade"===$.get("transition")?x.fadeTo(g,0,function(){J.position(0,d)}):J.position(g,d)}},J.next=function(){!U&&W[1]&&($.get("loop")||W[z+1])&&(z=r(1),f(W[z]))},J.prev=function(){!U&&W[1]&&($.get("loop")||z)&&(z=r(-1),f(W[z]))},J.close=function(){q&&!G&&(G=!0,q=!1,u(ot),$.get("onCleanup"),E.unbind("."+Z),v.fadeTo($.get("fadeOut")||0,0),x.stop().fadeTo($.get("fadeOut")||0,0,function(){x.hide().attr("aria-hidden","true"),v.hide(),u(rt),I.remove(),setTimeout(function(){G=!1,u(at),$.get("onClosed")},1)}))},J.remove=function(){x&&(x.stop(),t[Y].close(),x.stop(!1,!0).remove(),v.remove(),G=!1,x=null,t("."+tt).removeData(Y).removeClass(tt),t(e).unbind("click."+Z).unbind("keydown."+Z))},J.element=function(){return t($.el)},J.settings=X)})(jQuery,document,window);